{"remainingRequest":"E:\\Vue Js Projects\\recrutement\\node_modules\\babel-loader\\lib\\index.js!E:\\Vue Js Projects\\recrutement\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Vue Js Projects\\recrutement\\src\\axiosInstance.js","dependencies":[{"path":"E:\\Vue Js Projects\\recrutement\\src\\axiosInstance.js","mtime":1621626288252},{"path":"E:\\Vue Js Projects\\recrutement\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\recrutement\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Vue Js Projects\\recrutement\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGdldEhlYWRlciBmcm9tICIuL2NvbmZpZyI7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlL2luZGV4JzsgLy9pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyL2luZGV4JwoKdmFyIGF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGhlYWRlcnM6IHsKICAgIEFjY2VwdDogZ2V0SGVhZGVyKCkuQWNjZXB0LAogICAgQXV0aG9yaXphdGlvbjogZ2V0SGVhZGVyKCkuQXV0aG9yaXphdGlvbgogIH0KfSk7IC8vIGxvZ291dCBpZiB1bmF1dGhvcml6ZWQgdXNlcgoKYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAvLyBJIHNob3VsZCBsb2dvdXQgdGhlIGNsaWVudCAKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgY29uc29sZS5sb2coJ1Rva2VuIGZyb20gYXhpb3NJbnN0YW5jZSA6IEJlYXJlciAnICsgc3RvcmUuZ2V0dGVycy5nZXRUb2tlbik7CiAgICBzdG9yZS5jb21taXQoJ1JFTU9WRV9DTElFTlRfREFURScpOwogIH0KCiAgcmV0dXJuIGVycm9yOwp9KTsKZXhwb3J0IGRlZmF1bHQgYXhpb3NJbnN0YW5jZTs="},{"version":3,"sources":["E:/Vue Js Projects/recrutement/src/axiosInstance.js"],"names":["axios","getHeader","store","axiosInstance","create","headers","Accept","Authorization","interceptors","response","use","error","status","localStorage","removeItem","console","log","getters","getToken","commit"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,UAAtB;AACA,OAAOC,KAAP,MAAkB,eAAlB,C,CACA;;AAEA,IAAMC,aAAa,GAAGH,KAAK,CAACI,MAAN,CAAa;AACjCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAEL,SAAS,GAAGK,MADb;AAEPC,IAAAA,aAAa,EAAEN,SAAS,GAAGM;AAFpB;AADwB,CAAb,CAAtB,C,CAOA;;AACAJ,aAAa,CAACK,YAAd,CAA2BC,QAA3B,CAAoCC,GAApC,CACE,UAACD,QAAD,EAAc;AACZ,SAAOA,QAAP;AACD,CAHH,EAIE,UAACE,KAAD,EAAW;AACT,MAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AAC/B;AACAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCd,KAAK,CAACe,OAAN,CAAcC,QAAjE;AACAhB,IAAAA,KAAK,CAACiB,MAAN,CAAa,oBAAb;AACH;;AACD,SAAOR,KAAP;AACD,CAZH;AAeA,eAAeR,aAAf","sourcesContent":["import axios from \"axios\";\r\nimport getHeader from \"./config\";\r\nimport store from './store/index'\r\n//import router from './router/index'\r\n\r\nconst axiosInstance = axios.create({\r\n  headers: {\r\n    Accept: getHeader().Accept,\r\n    Authorization: getHeader().Authorization,\r\n  },\r\n});\r\n\r\n// logout if unauthorized user\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response.status === 401) {\r\n        // I should logout the client \r\n        localStorage.removeItem(\"token\");\r\n        console.log('Token from axiosInstance : Bearer ' + store.getters.getToken)\r\n        store.commit('REMOVE_CLIENT_DATE');\r\n    }\r\n    return error;\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n"]}]}